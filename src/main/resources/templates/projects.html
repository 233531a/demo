<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
    <h1>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</h1>

    <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ -->
    <form th:action="@{/projects/add}" th:object="${project}" method="post" class="add-form">
        <input type="text" th:field="*{projectName}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" required>
        <div th:if="${#fields.hasErrors('projectName')}" th:errors="*{projectName}" class="error"></div>

        <input type="text" th:field="*{manager}" placeholder="–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –ø—Ä–æ–µ–∫—Ç" required>
        <div th:if="${#fields.hasErrors('manager')}" th:errors="*{manager}" class="error"></div>

        <input type="date" th:field="*{deadline}" required>
        <div th:if="${#fields.hasErrors('deadline')}" th:errors="*{deadline}" class="error"></div>

        <button type="submit" class="add-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>



    <!-- –¢–∞–±–ª–∏—Ü–∞ -->
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</th>
            <th>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –ø—Ä–æ–µ–∫—Ç</th>
            <th>–î–∞—Ç–∞</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="project : ${projects}">
            <td th:text="${project.id}"></td>
            <td th:text="${project.projectName}"></td>
            <td th:text="${project.manager}"></td>
            <td th:text="${project.deadline}"></td>
            <td>
                <a th:href="@{'/projects/edit/' + ${project.id}}" class="edit-btn">‚úèÔ∏è</a>

                <form th:action="@{'/projects/delete/' + ${project.id}}" method="post" style="display:inline;">
                    <button type="submit" class="delete-btn" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç?')">üóëÔ∏è</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
    <div style="text-align: center; margin-top: 25px;"> <a th:href="@{/}" class="button">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a> </div>

</div>
</body>
</html>
